<nav class="h-full flex flex-col is-drawer-close:w-16 is-drawer-open:w-72 transition-[width] duration-200">
  <div class="h-14 px-2 border-b border-base-300 flex items-center gap-2 shrink-0 is-drawer-close:justify-center">
    <%= link_to root_path, class: "btn btn-ghost btn-sm gap-2 flex-1 justify-start is-drawer-close:hidden" do %>
      <span class="icon-[lucide--bot] size-5"></span>
      <span class="font-semibold">Cybros</span>
    <% end %>

    <div class="is-drawer-close:tooltip is-drawer-close:tooltip-right" data-tip="Toggle sidebar">
      <label for="left_drawer" class="btn btn-ghost btn-sm is-drawer-close:btn-square is-drawer-open:px-2" aria-label="Toggle sidebar">
        <span class="icon-[lucide--chevrons-left-right] size-5"></span>
      </label>
    </div>
  </div>

  <%= render "layouts/agent/sidebar_primary_nav" %>

  <div class="px-2 py-1">
    <div class="divider my-0"></div>
  </div>

  <% sidebar_mode = @left_sidebar_mode.to_sym if @left_sidebar_mode.present? %>
  <% sidebar_mode ||= :conversations %>
  <% if sidebar_mode == :settings %>
    <%= render "layouts/agent/sidebar_settings_section" %>
  <% else %>
    <%= render "layouts/agent/sidebar_conversations_section" %>
  <% end %>

  <div class="border-t border-base-300 p-2 is-drawer-close:flex is-drawer-close:justify-center">
    <div class="is-drawer-close:w-full is-drawer-close:flex is-drawer-close:justify-center">
      <%= render "shared/user_menu" %>
    </div>
  </div>
</nav>

