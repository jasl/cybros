<nav class="h-full flex flex-col is-drawer-close:w-16 is-drawer-open:w-72 transition-[width] duration-200">
  <div class="h-14 px-2 flex items-center shrink-0 is-drawer-close:justify-center is-drawer-open:gap-2">
    <div class="is-drawer-close:hidden">
      <%= form_with url: conversations_path, method: :post do %>
        <button type="submit" class="btn btn-ghost btn-square" aria-label="New chat">
          <span class="icon-[lucide--square-pen] size-5"></span>
        </button>
      <% end %>
    </div>

    <div class="flex-1 is-drawer-close:hidden"></div>

    <div class="is-drawer-close:tooltip is-drawer-close:tooltip-right" data-tip="Toggle sidebar">
      <label for="left_drawer" class="btn btn-ghost btn-square" aria-label="Toggle sidebar">
        <span class="icon-[lucide--panel-left] size-5"></span>
      </label>
    </div>
  </div>

  <div class="px-2 is-drawer-open:hidden is-drawer-close:flex is-drawer-close:justify-center">
    <div class="is-drawer-close:tooltip is-drawer-close:tooltip-right" data-tip="New chat">
      <%= form_with url: conversations_path, method: :post do %>
        <button type="submit" class="btn btn-ghost btn-square" aria-label="New chat">
          <span class="icon-[lucide--square-pen] size-5"></span>
        </button>
      <% end %>
    </div>
  </div>

  <%= render "layouts/agent/sidebar_primary_nav" %>

  <div class="px-2 py-1 is-drawer-close:hidden">
    <div class="divider my-0"></div>
  </div>

  <%= render "layouts/agent/sidebar_conversations_section" %>

  <div class="flex-1 is-drawer-open:hidden"></div>

  <div class="border-t border-base-300 p-2 is-drawer-close:flex is-drawer-close:justify-center">
    <div class="is-drawer-close:w-full is-drawer-close:flex is-drawer-close:justify-center">
      <%= render "shared/user_menu" %>
    </div>
  </div>
</nav>
