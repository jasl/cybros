<% content_for(:layout_name, "settings") %>
<% content_for(:body_class, "min-h-dvh bg-base-200") %>
<% content_for :content do %>
  <div class="drawer lg:drawer-open min-h-dvh" data-controller="sidebar" data-sidebar-key-value="settings-left">
    <input id="settings_drawer" type="checkbox" class="drawer-toggle" data-sidebar-target="toggle" />

    <div class="drawer-content min-h-dvh flex flex-col">
      <header class="navbar min-h-0 h-14 px-4 bg-base-100 border-b border-base-300 shrink-0">
        <div class="navbar-start gap-2">
          <label for="settings_drawer" class="btn btn-ghost btn-sm btn-square lg:hidden" aria-label="Open settings navigation">
            <span class="icon-[lucide--menu] size-5"></span>
          </label>
          <%= link_to root_path, class: "btn btn-ghost btn-sm gap-2" do %>
            <span class="icon-[lucide--arrow-left] size-4"></span>
            <span class="hidden sm:inline">Back</span>
          <% end %>
        </div>
        <div class="navbar-end">
          <%= button_to session_path, method: :delete, class: "btn btn-ghost btn-sm gap-2" do %>
            <span class="icon-[lucide--log-out] size-4"></span>
            <span class="hidden sm:inline">Sign out</span>
          <% end %>
        </div>
      </header>

      <main class="flex-1 min-h-0 overflow-auto">
        <div class="mx-auto w-full max-w-5xl p-6">
          <%= yield %>
        </div>
      </main>
    </div>

    <div class="drawer-side z-50 h-dvh">
      <label for="settings_drawer" aria-label="Close settings navigation" class="drawer-overlay"></label>
      <aside class="w-72 max-w-[85vw] h-dvh bg-base-100 border-r border-base-300 overflow-hidden">
        <div class="h-full overflow-auto p-3">
          <%= render "layouts/settings/nav" %>
        </div>
      </aside>
    </div>
  </div>
<% end %>

<%= render template: "layouts/application" %>
